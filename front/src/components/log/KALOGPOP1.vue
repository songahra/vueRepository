<template>
  <div class="text-center">
    <v-menu offset-y>
      <template v-slot:activator="{ on, attrs }">
        <v-btn
          v-bind="attrs"
          icon
          v-on="on"
        >
          <i
            class="icon-down"
          />
        </v-btn>
      </template>
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">
            {{ this.$store.state.userid }}
          </h2>
          <button
            type="button"
            class="btn-icon"
            data-dismiss="modal"
            aria-label="Close"
          >
            <i class="icon-close" />
          </button>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-primary"
            @click="logout"
          >
            로그아웃
          </button>
        </div>
      </div>
    </v-menu>
  </div>
</template>

<script>
export default {
  name: 'Modal',
  methods: {
    onClose () {
      this.$emit('close')
    },
    logout () {
      // 로컬스토리지 token 삭제, store 초기화
      localStorage.removeItem('token')
      this.$store.commit('SET_TOKEN', '')
      this.$store.commit('SET_USERNAME', '')
      this.$store.commit('SET_USERID', '')
      this.$store.commit('SET_USERTYPE', '')
      this.$store.commit('SET_COMPANY', '')
      this.$store.commit('SET_SOLUTION', '')
      this.$store.commit('SET_DEPT', '')
      this.$store.commit('SET_EXP', '')
      this.$router.push('/login')
    }
  }
}
</script>

<style>

</style>
